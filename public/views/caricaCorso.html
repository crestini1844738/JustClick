<!DOCTYPE html>
<html>
<head>
    <title> Progetto RDC LTW</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <script type="text/javascript" lang="javascript" src="../js/bootstrap.min.js"></script> 
    <link rel=stylesheet href="../styles/index.css" type="text/css">
    <link rel=stylesheet href="../styles/caricaCorso.css" type="text/css"> 
    <link rel=stylesheet href="../css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/> 
    <!-- <script>
    
        function mostra(div){
            document.getElementById(div).style.display='block';
        }

        function nascondi(div){
            document.getElementById(div).style.display='none';
        }
    </script> -->
</head>
<body>

    <div class="header">
        <img src="../logo/logo_small.png" alt="JustClick">
        <p>Tutto il sapere a portata di click</p>
    </div>

    <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-blue">
        <div class="container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link fw-bold" aria-current="page" href="http://localhost:8889/">HOME</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle fw-bold" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  LOGIN
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="http://localhost:8889/login">Accedi</a></li>
                  <li><a class="dropdown-item" href="http://localhost:8889/register">Registarti</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link fw-bold" href="http://localhost:8889/courses">COURSES</a>
              </li>
              <li class="nav-item">
                <a class="nav-link fw-bold" href="http://localhost:8889/AboutUs">ABOUT US</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle active fw-bold" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  PROFILO
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="http://localhost:8889/manageAccount">Gestisci account</a></li>
                  <li><a class="dropdown-item" href="http://localhost:8889/personalArea">Il mio account</a></li>
                </ul>
              </li>
            </ul>
            <form class="d-flex">
              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn  btn-outline-light" type="submit">Search</button>
            </form>
          </div>
        </div>
      </nav>


    <!-- parte del body da modificare ognuno di noi -->

<div class="card" id="zonaDinamica">
  <h1>Carica un nuovo corso</h1>
  <div class="progress">
    <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
  </div>

<form action="#" name="formprova">
  <div class="mb-3">
  <label for="validationTextarea" class="form-label">Titolo</label>
    <input class="form-control" name="titolo" type="text" id="validationTextarea" placeholder="Inserisci il titolo"/>
    </div>
    <div class="mb-3">
    <label for="exampleFormControlTextarea1" class="form-label">Descrizione</label>
    <textarea class="form-control" name="desc" id="exampleFormControlTextarea1" placeholder="Inserisci la descrizione del corso" rows="3"></textarea>
    </div>
    <div class="mb-3">
    <select class="form-select" name="opt" aria-label="Default select example">
      <option selected>Seleziona una categoria</option>
      <option value="1">Informatica</option>
      <option value="2">Moda e bellezza</option>
      <option value="3">Musica</option>
      <option value="4">Notizie</option>
      <option value="5">Scuola</option>
      <option value="6">Sport</option>
      <option value="7">Videogiochi</option>
    </select>
    </div>
    <button class="btn btn-primary" type="button" id="ciao">Carica Corso</button>
</form>
</div>

<script>
    var bottone = document.getElementById("ciao");
    var titolo = document.formprova.titolo;
    var descrizione = document.formprova.desc;
    var opzioni = document.formprova.opt.selectedIndex;
    bottone.onclick = myFunction;
    //bottone.onmouseenter= boh;

    function myFunction(e) { 
      var titolo = document.formprova.titolo.value;
      var options = document.formprova.opt.options[document.formprova.opt.selectedIndex];
      if((titolo =="") || (titolo == "undefined")){
        alert("Il campo titolo è obbligatorio");
        document.formprova.titolo.focus();
        return false;
      }
      else if(opzioni == 0){
        alert("Il campo categoria è obbligatorio");
        document.modulo.opt.focus();
        return false;
      }
      else{
        alert(opzioni);
        var httpRequest = new XMLHttpRequest();
        httpRequest.onreadystatechange = gestisciResponse;
        httpRequest.open("GET", "/caricaInfo", true);
        httpRequest.send();
        var httpRequest2 = new XMLHttpRequest();
        //httpRequest.setRequestHeader("{'content-type': 'application/json'}", '{ "Username":"'+titolo+'"}');
       // httpRequest2.open("GET", "/course4", true);
        //httpRequest2.send();
        //document.getElementById("demo").innerHTML = "Hello JavaScript!";
      }
    
      
    }

    function gestisciResponse(e) {
        if(e.target.readyState == XMLHttpRequest.DONE && e.target.status == 200) {
            document.getElementById("zonaDinamica").innerHTML = e.target.responseText;
        }
    }

    /*function boh(e) {
        var lclcl = document.getElementById("djdhd");
        bottone.style.color = "red";
        //alert("io non vengo usata");
    } */

    function validaForm() {
        var invio = document.getElementById("invio");
        //invio.style.color = "blue";
        if(titolo.value.length == 0) alert("oooo");
        else {
          httpRequest2.open("GET", "/course4", true);
        httpRequest2.send();
        }
    }
</script>
    
                  

                            

       
      

    
    <!-- fine parte del body da modificare-->

    <footer>
        <h2>Seguici sui nostri canali social</h2>
        <a href="#" class="fa fa-facebook"></a>
        <a href="#" class="fa fa-instagram"></a>
        <a href="#" class="fa fa-youtube"></a>
        <a href="#" class="fa fa-twitter"></a>
        <h2 class="logo">JustClick</h2>
        <div class="text-center">JustClick Copyright &copy; 2021 - Piattaforma tutorial </div>
    </footer>

</body>
</html>


var titolo = document.formprova.titolo.value;
var options = document.formprova.opt.options[document.formprova.opt.selectedIndex].value;
if((titolo =="") || (titolo == "undefined")){
  alert("Il campo titolo è obbligatorio");
  document.formprova.titolo.focus();
  return false;
}
else if((opt =="") || (opt="undefined")){
  alert("Il campo categoria è obbligatorio");
  document.modulo.opt.focus();
  return false;
}
else{
  //invio form al sever
}



